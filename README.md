# Лабораторная работа №6: Редактор подземелья (NPC Battle)

## Описание

Проект реализует редактор боевых ситуаций для RPG игры. Поддерживаются различные типы NPC (Рыцарь, Друид, Эльф), их расстановка на карте, сохранение/загрузка и режим сражения.

**Вариант:** 11

- Рыцарь убивает Эльфа
- Эльф убивает Друида и Рыцаря
- Друид убивает Друидов

**Использованные паттерны:**

- **Factory**: Для создания NPC.
- **Visitor**: Для реализации механики боя (Double Dispatch).
- **Observer**: Для логирования убийств (в консоль и файл).

## Структура проекта

- `src/` - Исходные файлы (.cpp)
- `include/` - Заголовочные файлы (.h)
- `test/` - Модульные тесты (Google Test) и txt
- `CMakeLists.txt` - Конфигурация сборки

## Запуск тестов(wsl(GOOGLE TESTS))

1. **Очистка (если нужно) и создание папки сборки:**
   
   ```bash
   rm -rf build
   mkdir -p build && cd build
   ```

2. **Конфигурация проекта:**
   
   ```bash
   cmake ..
   ```

3. **Сборка проекта:**
   
   ```bash
   cmake --build .
   ```

4. **Запуск модульных тестов (Google Test):**
   
   ```bash
   ctest --output-on-failure
   ```

5. **Запуск основной программы:**
   
   ```bash
   ./lab_06
   ```

### Ручная компиляция и запуск сценариев

1. **Скомпилируйте программу:**
   
   ```bash
   g++ -std=c++20 -Iinclude -o lab_06 src/main.cpp src/npc.cpp src/knight.cpp src/druid.cpp src/elf.cpp
   ```

2. **Запустите тестовые сценарии:**
   
   - **Рыцарь против Эльфа:**
     
     ```bash
     ./lab_06 < test/test_01_kvse.txt > result_01.txt
     ```
   
   - **Эльф против Друида:**
     
     ```bash
     ./lab_06 < test/test_02_evsd.txt > result_02.txt
     ```
   
   - **Друид против Друида:**
     
     ```bash
     ./lab_06 < test_03_dvsd.txt > result_03.txt
     ```
   
   - **Сохранение и загрузка:**
     
     ```bash
     ./lab_06 < test/test_04_save_load.txt > result_04.txt
     ```

3. **Просмотр результатов:**
   Вы можете просмотреть созданные файлы результатов командой `cat`:
   
   ```bash
   cat result_01.txt
   ```
